(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[870],{2711:(e,s,t)=>{Promise.resolve().then(t.bind(t,6177))},6177:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>U});var r=t(7437),a=t(2265),l=t(9343),n=t(9772),i=t(1014),o=t(4839),d=t(6164);function c(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,d.m6)((0,o.W)(s))}let u=a.forwardRef((e,s)=>{let{className:t,type:a,...l}=e;return(0,r.jsx)("input",{type:a,className:c("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...l})});u.displayName="Input";var f=t(4218),m=t(3807),x=t(2468),g=t(1989),h=t(3541),b=t(2974);let p=(0,t(3027).j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),v=a.forwardRef((e,s)=>{let{className:t,variant:a,size:l,asChild:n=!1,...i}=e,o=n?b.g7:"button";return(0,r.jsx)(o,{className:c(p({variant:a,size:l,className:t})),ref:s,...i})});v.displayName="Button";var y=t(5267),j=t(6648);function w(e){let{className:s,...t}=e;return(0,r.jsx)("div",{className:c("animate-pulse rounded-md bg-muted",s),...t})}var N=t(6446),k=t(4633);let S=n.z.object({message:n.z.string().min(1,"Message cannot be empty")}),z=[{text:"Indian Law",icon:(0,r.jsx)(f.Z,{className:"text-gray-700",size:16})},{text:"Indian Law IPC 320",icon:(0,r.jsx)(m.Z,{className:"text-gray-700",size:16})},{text:"Women Rights",icon:(0,r.jsx)(x.Z,{className:"text-gray-700",size:16})},{text:"Women Safety",icon:(0,r.jsx)(g.Z,{className:"text-gray-700",size:16})}],U=function(){let[e,s]=a.useState([]),t=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,[t,r]=a.useState("");return a.useEffect(()=>{let t=0,a=setInterval(()=>{r(e.slice(0,t+1)),++t===e.length&&clearInterval(a)},s);return()=>clearInterval(a)},[e,s]),t}("What can I help you with?"),[n,o]=a.useState(!1),{user:d}=(0,y.ll)(),c=(0,l.cI)({resolver:(0,i.F)(S),defaultValues:{message:""}}),f=async e=>{s(s=>[...s,{text:e.message,isUser:!0}]),c.reset(),o(!0);let t=await fetch("/api/chat",{method:"POST",body:JSON.stringify({userInput:e.message}),headers:{"Content-Type":"application/json"}}),r=await t.json();s(e=>[...e,{text:r.reply,isUser:!1}]),o(!1)},m=e=>{c.setValue("message",e),c.handleSubmit(f)()};return 0===e.length?(0,r.jsxs)("div",{className:"h-full flex flex-col items-center justify-center",children:[(0,r.jsx)("h1",{className:"text-3xl font-extrabold tracking-wide text-gray-700 mb-5",children:t}),(0,r.jsx)("form",{onSubmit:c.handleSubmit(f),className:"flex items-center max-w-3xl w-full gap-2",children:(0,r.jsxs)("div",{className:"rounded-3xl flex w-full items-center bg-slate-100 border border-gray-300 p-1",children:[(0,r.jsx)(u,{...c.register("message"),className:"focus-within:ring-0 ring-offset-transparent text-lg focus-visible:ring-0 bg-slate-100 rounded-3xl focus-visible:ring-transparent p-5 border-none",placeholder:"Chat with Law Bot",autoComplete:"off"}),(0,r.jsx)(v,{className:"bg-slate-300 rounded-full text-black cursor-pointer",disabled:n||!c.formState.isValid,type:"submit",children:(0,r.jsx)(h.Z,{size:24})})]})}),(0,r.jsx)("div",{className:"mt-5 flex items-center gap-5",children:z.map((e,s)=>(0,r.jsxs)("button",{onClick:()=>m("string"==typeof e?e:e.text),className:"flex items-center gap-2 border border-gray-300 rounded-full px-4 py-2 text-sm hover:bg-gray-100",children:["string"!=typeof e&&e.icon,"string"==typeof e?e:e.text]},s))})]}):(0,r.jsxs)("div",{className:"flex flex-col h-full items-center justify-center max-w-3xl w-full mx-auto ",children:[(0,r.jsx)("div",{className:"w-full overflow-y-auto rounded-md custom-scrollbar ",children:(0,r.jsxs)("div",{className:"flex flex-col gap-2 h-[80vh] overflow-y-auto custom-scrollbar p-4",children:[e.length>0&&e.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-start gap-2 ".concat(e.isUser?"justify-end":""),children:[!e.isUser,(0,r.jsx)("div",{className:"py-2 px-3 rounded-md max-w-[70%] ".concat(e.isUser?"bg-green-500 text-white self-end":"bg-gray-300 text-black self-start"),children:e.isUser?e.text:(0,r.jsx)(N.U,{remarkPlugins:[k.Z],children:e.text})}),e.isUser&&d&&(0,r.jsx)(j.default,{src:(null==d?void 0:d.imageUrl)||"",alt:"User Avatar",className:"w-8 h-8 rounded-full",width:32,height:32}),e.isUser&&!d&&(0,r.jsx)("div",{className:"rounded-full border shadow-sm h-10 w-10 flex items-center justify-center ",children:(0,r.jsx)("h1",{className:"font-semibold",children:"G"})})]},s)),n&&(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(w,{className:"h-12 w-12 rounded-full"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(w,{className:"h-4 w-[250px]"}),(0,r.jsx)(w,{className:"h-4 w-[200px]"})]})]})]})}),e.length>0&&(0,r.jsx)("form",{onSubmit:c.handleSubmit(f),className:"flex items-center max-w-3xl w-full gap-2",children:(0,r.jsxs)("div",{className:"rounded-3xl flex w-full items-center border bg-slate-100 border-gray-300 p-1",children:[(0,r.jsx)(u,{...c.register("message"),className:"focus-within:ring-0 ring-offset-transparent text-lg bg-slate-100 focus-visible:ring-0 rounded-3xl focus-visible:ring-transparent p-5 border-none",placeholder:"Chat with Law Bot",autoComplete:"off"}),(0,r.jsx)(v,{className:"bg-slate-300 rounded-full text-black cursor-pointer",disabled:n||!c.formState.isValid,type:"submit",children:(0,r.jsx)(h.Z,{size:24})})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[166,841,130,215,560],()=>s(2711)),_N_E=e.O()}]);